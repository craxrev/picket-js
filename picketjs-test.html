<h1>Picket Example</h1>

<p id="walletAddressLabel">Wallet Address: </p>
<p id="signatureLabel">Signature: </p>

<button onclick="connectWallet()">Connect Wallet</button>

<script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js"
        type="application/javascript"></script>
<script src="https://unpkg.com/web3modal@1.9.5/dist/index.js"></script>
<script src="https://unpkg.com/evm-chains@0.2.0/dist/umd/index.min.js"></script>
<script src="https://unpkg.com/@walletconnect/web3-provider@1.3.1/dist/umd/index.min.js"></script>

<script src="picket.js"></script>

<script>
        const picket = new Picket("test")
        console.log(picket.getNonce("test"))

        window.connectWallet= async ()=>{
                var walletObject = await picket.connect()
                
                document.getElementById("walletAddressLabel").innerHTML = "Wallet Address: " + walletObject.walletAddress
                document.getElementById("signatureLabel").innerHTML = "Signature: " + walletObject.signature

                console.log(await picket.auth(walletObject.walletAddress, walletObject.signature, "0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48", 1))
        }
</script>